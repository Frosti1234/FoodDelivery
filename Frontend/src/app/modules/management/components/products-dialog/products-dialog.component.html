<h2 mat-dialog-title>
  <span>{{dialogData.action}} Product</span>
</h2>


<mat-dialog-content class="mat-typography">
  <form [formGroup]="productForm">
    <div style="display:flex; flex-direction:column; overflow:hidden">
      <div>
        <mat-form-field>
          <mat-label>Name</mat-label>
          <input
            matInput
            formControlName="name"
            required
          >
          <mat-error *ngIf="productForm.controls.name.touched && productForm.controls.name.invalid">
            <span *ngIf="productForm.controls.name.errors.required">This field is mandatory.</span>
            <span *ngIf="productForm.controls.name.errors.pattern">This field is invalid.</span>
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Category</mat-label>
          <mat-select formControlName="categoryId">
            <mat-option
              *ngFor="let category of categorys"
              [value]="category.id"
            >{{category.name}}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div>
        <mat-form-field>
          <mat-label>Price</mat-label>
          <input
            matInput
            formControlName="price"
            required
          >
          <mat-error *ngIf="productForm.controls.price.touched && productForm.controls.price.invalid">
            <span *ngIf="productForm.controls.price.errors.required">This field is mandatory.</span>
            <span *ngIf="productForm.controls.price.errors.pattern">This field is invalid.</span>
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Description</mat-label>
          <input
            matInput
            formControlName="description"
            required
          >
          <mat-error *ngIf="productForm.controls.description.touched && productForm.controls.description.invalid">
            <span *ngIf="productForm.controls.description.errors.required">This field is mandatory.</span>
            <span *ngIf="productForm.controls.description.errors.pattern">This field is invalid.</span>
          </mat-error>
        </mat-form-field>
      </div>
    </div>
  </form>
</mat-dialog-content>
<mat-dialog-actions align="start">

  <button
    mat-button
    color="primary"
    mat-dialog-close
  >
    <mat-icon>arrow_back</mat-icon>
  </button>
  <button
    mat-button
    color="primary"
    type="submit"
    (click)="handleSubmit()"
    [disabled]="!(productForm.valid && productForm.dirty)"
  >
    {{action}}
  </button>
</mat-dialog-actions>