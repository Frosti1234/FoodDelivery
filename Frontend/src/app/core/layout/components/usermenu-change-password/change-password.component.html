<h2 mat-dialog-title>
  <span>Change Password</span>
<h2>
  <mat-dialog-content>
    <form [formGroup]="changePasswordForm">
      <div style="display:flex; flex-direction:column; overflow:hidden">
        <mat-form-field>
          <mat-label>Old Password</mat-label>
          <input
            matInput
            formControlName="oldPassword"
            required
            [type]="oldPassword ? 'password' : 'text'"
          >
          <button
            type="button"
            mat-icon-button
            matSuffix
            (click)="oldPassword = !oldPassword"
            [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="oldPassword"
          >
            <mat-icon>{{oldPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
          <mat-error
            *ngIf="changePasswordForm.controls.oldPassword.touched && changePasswordForm.controls.oldPassword.invalid"
          >
            <span *ngIf="changePasswordForm.controls.oldPassword.errors.required">This field is mandatory.</span>
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <mat-label>New Password</mat-label>
          <input
            matInput
            formControlName="newPassword"
            type="password"
            required
            [type]="newPassword ? 'password' : 'text'"
          >
          <button
            type="button"
            mat-icon-button
            matSuffix
            (click)="newPassword = !newPassword"
            [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="newPassword"
          >
            <mat-icon>{{newPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
          <mat-error
            *ngIf="changePasswordForm.controls.newPassword.touched && changePasswordForm.controls.newPassword.invalid"
          >
            <span *ngIf="changePasswordForm.controls.newPassword.errors.required">This field is mandatory.</span>
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Confirm Password</mat-label>
          <input
            matInput
            formControlName="confirmPassword"
            type="password"
            required
            [type]="confirmPassword ? 'password' : 'text'"
          >
          <button
            type="button"
            mat-icon-button
            matSuffix
            (click)="confirmPassword = !confirmPassword"
            [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="confirmPassword"
          >
            <mat-icon>{{confirmPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
          <mat-error
            *ngIf="changePasswordForm.controls.confirmPassword.touched && changePasswordForm.controls.confirmPassword.invalid"
          >
            <span *ngIf="changePasswordForm.controls.confirmPassword.errors.required">This field is mandatory.</span>
          </mat-error>
          <mat-hint *ngIf="validateSubmit() && !(changePasswordForm.controls.confirmPassword.invalid)">
            <span>New Password & Confirm Password does not match.</span>
          </mat-hint>
        </mat-form-field>
      </div>
    </form>
  </mat-dialog-content>

  <mat-dialog-actions align="start">
    <button
      mat-button
      color="primary"
      mat-dialog-close
    >
      <mat-icon>arrow_back</mat-icon>
    </button>
    <button
    mat-button
    color="primary"
    type="submit"
    (click)="handlePasswordChangeSubmit()"
    [disabled]="validateSubmit() || !(changePasswordForm.valid && changePasswordForm.dirty)"
  >
   Change password
  </button>
  </mat-dialog-actions>
